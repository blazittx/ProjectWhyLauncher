<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Game Launcher</title>
  <link rel="stylesheet" href="css/index.css">
</head>

<body>
  <div class="terminal glitch">
    <div class="scanline"></div>
    <p class="spinner">[/]</p>
    <div class="hydra">
      <div class="hydra_rebooting">
        <p id="status-message">&lt; SYSTEM REBOOTING &gt;</p>
        <p class="text--sm">HYDRA VER 2.1 SYS RECOVERY</p>
        <p class="text--sm">PROCESS: <span class="process-amount">0</span>%</p>
        <p class="loading-bar"><span id="progress-bar">[....................]</span></p>
      </div>
      <div id="reboot-success" class="hydra_reboot_success hidden">
        <p>REBOOTING SUCCESSFUL</p>
      </div>
    </div>
  </div>

  <script src="./js/renderer.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      window.electronAPI.onUpdateStatus((event, message) => {
        document.getElementById('status-message').innerText = message;
      });

      window.electronAPI.onDownloadProgress((event, progress) => {
        const loaded = '#'.repeat(Math.floor(progress / 5));
        const unloaded = '.'.repeat(20 - loaded.length);
        document.getElementById('progress-bar').innerText = `[${loaded}${unloaded}]`;
        document.querySelector('.process-amount').innerText = progress;
      });
    });
  </script>
</body>

</html>